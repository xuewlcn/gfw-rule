port: 7890
socks-port: 7891
redir-port: 7892
allow-lan: false
mode: rule
log-level: silent
external-controller: '0.0.0.0:9090'
secret: ''
dns:
  enable: true
  ipv6: false
  listen: '0.0.0.0:53'
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 114.114.114.114
    - 'tcp://223.5.5.5'
  fallback:
    - 'tls://223.5.5.5:853'
    - 'https://223.5.5.5/dns-query'
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4

proxy-providers:
  nfcloud:
    type: http
    path: ./profiles/proxies/nfcloud.yaml
    url: https://api.v1.mk/sub?target=clash&url=https%3A%2F%2Fsub.nfol.xyz%2Flink%2FJ1RQxeF5cPUU8QLp%3Fclash%3D2&insert=false&config=https%3A%2F%2Fraw.githubusercontent.com%2FMeilieage%2Fwebcdn%2Fmain%2Frule%2FArea_Media_NoAuto.ini&emoji=true&list=true&udp=false&tfo=false&expand=true&scv=false&fdn=false&sort=false&new_name=true
    interval: 3600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300  
  #https://openit.ml/Clash.yaml    
  openit:
    type: http
    path: ./profiles/proxies/openit.yaml
    url: https://api.v1.mk/sub?target=clash&url=https%3A%2F%2Fopenit.ml%2FClash.yaml&insert=false&config=https%3A%2F%2Fraw.githubusercontent.com%2FMeilieage%2Fwebcdn%2Fmain%2Frule%2FArea_Media_NoAuto.ini&emoji=true&list=true&udp=false&tfo=false&expand=true&scv=false&fdn=false&sort=false&new_name=true
    interval: 3600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

proxy-groups:
  - 
    name: ğŸ”°å›½å¤–æµé‡
    type: select
    use:
      - nfcloud
      - openit
    proxies:
      - DIRECT
      - â™»ï¸è‡ªåŠ¨é€‰æ‹©
  - 
    name: â™»ï¸è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 3600
    use:
      - nfcloud
  -
    name: ğŸè‹¹æœæœåŠ¡
    type: select
    use:
      - nfcloud
      - openit
    proxies:
      - ğŸ”°å›½å¤–æµé‡
      - â™»ï¸è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ç›´æ¥è¿æ¥
  -
    name: ğŸ’»å¾®è½¯æœåŠ¡
    type: select
    use:
      - nfcloud
      - openit
    proxies:
      - ğŸ”°å›½å¤–æµé‡
      - â™»ï¸è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ç›´æ¥è¿æ¥
  -
    name: âœˆï¸Telegram
    type: select
    use:
      - nfcloud
      - openit
    proxies:
      - ğŸ”°å›½å¤–æµé‡
      - â™»ï¸è‡ªåŠ¨é€‰æ‹©
  -
    name: ğŸ¬Youtube
    type: select
    use:
      - nfcloud
      - openit
    proxies:
      - ğŸ”°å›½å¤–æµé‡
      - â™»ï¸è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ç›´æ¥è¿æ¥
  -
    name: ğŸ¬Netflix
    type: select
    use:
      - nfcloud
      - openit
    proxies:
      - ğŸ”°å›½å¤–æµé‡
      - â™»ï¸è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ç›´æ¥è¿æ¥
  -
    name: ğŸ¬å“”å“©å“”å“©
    type: select
    use:
      - nfcloud
      - openit
    proxies:
      - ğŸ”°å›½å¤–æµé‡
      - â™»ï¸è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ç›´æ¥è¿æ¥
  -
    name: ğŸ¬å›½å¤–åª’ä½“
    type: select
    use:
      - nfcloud
      - openit
    proxies:
      - ğŸ”°å›½å¤–æµé‡
      - â™»ï¸è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ç›´æ¥è¿æ¥  
  -
    name: ğŸ› è°·æ­ŒæœåŠ¡
    type: select
    use:
      - nfcloud
      - openit
    proxies:
      - ğŸ”°å›½å¤–æµé‡
      - â™»ï¸è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ç›´æ¥è¿æ¥
  -
    name: âš“ï¸å…¶ä»–æµé‡
    type: select
    proxies:
      - ğŸ”°å›½å¤–æµé‡
      - â™»ï¸è‡ªåŠ¨é€‰æ‹©
      - ğŸš€ç›´æ¥è¿æ¥
  -
    name: ğŸš€ç›´æ¥è¿æ¥
    type: select
    proxies:
      - DIRECT

rule-providers:
  Proxy:
    type: http
    behavior: domain
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Proxy/Proxy_Domain.yaml"
    path: ./ruleset/Proxy_Domain.yaml
    interval: 86400

  Advertising:
    type: http
    behavior: domain
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising_Domain.yaml"
    path: ./ruleset/Advertising_Domain.yaml
    interval: 86400

  Apple:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.yaml"
    path: ./ruleset/Apple.yaml
    interval: 86400

  Telegram:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml"
    path: ./ruleset/Telegram.yaml
    interval: 86400

  YouTube:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml"
    path: ./ruleset/YouTube.yaml
    interval: 86400

  Netflix:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml"
    path: ./ruleset/Netflix.yaml
    interval: 86400

  Microsoft:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml"
    path: ./ruleset/Microsoft.yaml
    interval: 86400

  BiliBili:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
    path: ./ruleset/BiliBili.yaml
    interval: 86400
    
  Google:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml"
    path: ./ruleset/Google.yaml
    interval: 86400
    
rules:
  # Clash Premium å†…æ ¸çš„è§„åˆ™é›†ï¼ˆRULE-SETï¼‰https://github.com/Loyalsoldier/clash-rules
  - RULE-SET,Advertising,REJECT
  - RULE-SET,Apple,ğŸè‹¹æœæœåŠ¡
  - RULE-SET,Telegram,âœˆï¸Telegram
  - RULE-SET,YouTube,ğŸ¬Youtube
  - RULE-SET,Netflix,ğŸ¬Netflix
  - RULE-SET,Microsoft,ğŸ’»å¾®è½¯æœåŠ¡
  - RULE-SET,BiliBili,ğŸ¬å“”å“©å“”å“©
  - RULE-SET,Google,ğŸ› è°·æ­ŒæœåŠ¡
  - RULE-SET,Proxy,ğŸ”°å›½å¤–æµé‡
  - DOMAIN-SUFFIX,safepal.io,âš“ï¸å…¶ä»–æµé‡
  - DOMAIN-SUFFIX,isafepal.com,âš“ï¸å…¶ä»–æµé‡
  - DOMAIN-SUFFIX,2047.one,âš“ï¸å…¶ä»–æµé‡
  - DOMAIN-SUFFIX,okx.com,âš“ï¸å…¶ä»–æµé‡
  - MATCH,DIRECT
